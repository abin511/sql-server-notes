DECLARE @T1 TABLE (ID INT IDENTITY,[NAME] NVARCHAR(10))
DECLARE @T2 TABLE(ID INT IDENTITY,ID1 INT, TARGET NVARCHAR(5))


INSERT INTO @T1 ([NAME]) 
SELECT 'AA'
UNION
SELECT 'BB'
UNION
SELECT 'CC'
INSERT INTO @T2 (ID1, TARGET) 
SELECT  1, '1'
UNION ALL
SELECT 1, '2'
UNION ALL
SELECT 2, '3'
UNION ALL
SELECT 2, '4'

SELECT * FROM @T1 A LEFT JOIN @T2 B ON A.ID = B.ID1 
AND B.ID IN (
SELECT MAX(ID) FROM @T2 GROUP BY ID1 --HAVING ID>=MAX(ID)
)
